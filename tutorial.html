<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 7.0.1" />
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a { color: blue; }
a:visited { color: fuchsia; }

em {
  font-style: italic;
}

strong {
  font-weight: bold;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1 {
  border-bottom: 2px solid silver;
}
h2 {
  border-bottom: 2px solid silver;
  padding-top: 0.5em;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.2em;
}
span#email {
}
span#revision {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble,
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-right: 10%;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.5em;
  margin-bottom: 2.5em;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock > div.content {
  padding-left: 2.0em;
}
div.quoteblock .attribution {
  text-align: right;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 2px solid silver;
}

div.exampleblock > div.content {
  border-left: 2px solid silver;
  padding: 0.5em;
}

div.verseblock div.content {
  white-space: pre;
}

div.imageblock div.content { padding-left: 0; }
div.imageblock img { border: 1px solid silver; }
span.image img { border-style: none; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: italic;
}
dd > *:first-child {
  margin-top: 0;
}

ul, ol {
    list-style-position: outside;
}
ol.olist2 {
  list-style-type: lower-alpha;
}

div.tableblock > table {
  border-color: #527bbd;
  border-width: 3px;
}
thead {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}

div.hlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
td.hlist1 {
  vertical-align: top;
  font-style: italic;
  padding-right: 0.8em;
}
td.hlist2 {
  vertical-align: top;
}

@media print {
  div#footer-badges { display: none; }
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-content {
  padding-left: 2.0em;
}

div.exampleblock-content {
  border-left: 2px solid silver;
  padding-left: 0.5em;
}
</style>
<title>A tutorial introduction to git</title>
</head>
<body>
<div id="header">
<h1>A tutorial introduction to git</h1>
</div>
<div id="preamble">
<div class="sectionbody">
<p>This tutorial explains how to import a new project into git, make
changes to it, and share changes with other developers.</p>
<p>First, note that you can get documentation for a command such as "git
diff" with:</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ man git-diff</tt></pre>
</div></div>
</div>
</div>
<h2>Importing a new project</h2>
<div class="sectionbody">
<p>Assume you have a tarball project.tar.gz with your initial work.  You
can place it under git revision control as follows.</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ tar xzf project.tar.gz
$ cd project
$ git init-db</tt></pre>
</div></div>
<p>Git will reply</p>
<div class="listingblock">
<div class="content">
<pre><tt>defaulting to local storage area</tt></pre>
</div></div>
<p>You've now initialized the working directory&#8212;you may notice a new
directory created, named ".git".  Tell git that you want it to track
every file under the current directory with</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git add .</tt></pre>
</div></div>
<p>Finally,</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git commit -a</tt></pre>
</div></div>
<p>will prompt you for a commit message, then record the current state
of all the files to the repository.</p>
<p>Try modifying some files, then run</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git diff</tt></pre>
</div></div>
<p>to review your changes.  When you're done,</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git commit -a</tt></pre>
</div></div>
<p>will again prompt your for a message describing the change, and then
record the new versions of the modified files.</p>
<p>A note on commit messages: Though not required, it's a good idea to
begin the commit message with a single short (less than 50 character)
line summarizing the change, followed by a blank line and then a more
thorough description.  Tools that turn commits into email, for
example, use the first line on the Subject line and the rest of the
commit in the body.</p>
<p>To add a new file, first create the file, then</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git add path/to/new/file</tt></pre>
</div></div>
<p>then commit as usual.  No special command is required when removing a
file; just remove it, then commit.</p>
<p>At any point you can view the history of your changes using</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git whatchanged</tt></pre>
</div></div>
<p>If you also want to see complete diffs at each step, use</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git whatchanged -p</tt></pre>
</div></div>
</div>
<h2>Managing branches</h2>
<div class="sectionbody">
<p>A single git repository can maintain multiple branches of
development.  To create a new branch named "experimental", use</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git branch experimental</tt></pre>
</div></div>
<p>If you now run</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git branch</tt></pre>
</div></div>
<p>you'll get a list of all existing branches:</p>
<div class="listingblock">
<div class="content">
<pre><tt>  experimental
* master</tt></pre>
</div></div>
<p>The "experimental" branch is the one you just created, and the
"master" branch is a default branch that was created for you
automatically.  The asterisk marks the branch you are currently on;
type</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git checkout experimental</tt></pre>
</div></div>
<p>to switch to the experimental branch.  Now edit a file, commit the
change, and switch back to the master branch:</p>
<div class="listingblock">
<div class="content">
<pre><tt>(edit file)
$ git commit -a
$ git checkout master</tt></pre>
</div></div>
<p>Check that the change you made is no longer visible, since it was
made on the experimental branch and you're back on the master branch.</p>
<p>You can make a different change on the master branch:</p>
<div class="listingblock">
<div class="content">
<pre><tt>(edit file)
$ git commit -a</tt></pre>
</div></div>
<p>at this point the two branches have diverged, with different changes
made in each.  To merge the changes made in the two branches, run</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git pull . experimental</tt></pre>
</div></div>
<p>If the changes don't conflict, you're done.  If there are conflicts,
markers will be left in the problematic files showing the conflict;</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git diff</tt></pre>
</div></div>
<p>will show this.  Once you've edited the files to resolve the
conflicts,</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git commit -a</tt></pre>
</div></div>
<p>will commit the result of the merge. Finally,</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ gitk</tt></pre>
</div></div>
<p>will show a nice graphical representation of the resulting history.</p>
<p>If you develop on a branch crazy-idea, then regret it, you can always
delete the branch with</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git branch -D crazy-idea</tt></pre>
</div></div>
<p>Branches are cheap and easy, so this is a good way to try something
out.</p>
</div>
<h2>Using git for collaboration</h2>
<div class="sectionbody">
<p>Suppose that Alice has started a new project with a git repository in
/home/alice/project, and that Bob, who has a home directory on the
same machine, wants to contribute.</p>
<p>Bob begins with:</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git clone /home/alice/project myrepo</tt></pre>
</div></div>
<p>This creates a new directory "myrepo" containing a clone of Alice's
repository.  The clone is on an equal footing with the original
project, posessing its own copy of the original project's history.</p>
<p>Bob then makes some changes and commits them:</p>
<div class="listingblock">
<div class="content">
<pre><tt>(edit files)
$ git commit -a
(repeat as necessary)</tt></pre>
</div></div>
<p>When he's ready, he tells Alice to pull changes from the repository
at /home/bob/myrepo.  She does this with:</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ cd /home/alice/project
$ git pull /home/bob/myrepo</tt></pre>
</div></div>
<p>This actually pulls changes from the branch in Bob's repository named
"master".  Alice could request a different branch by adding the name
of the branch to the end of the git pull command line.</p>
<p>This merges Bob's changes into her repository; "git whatchanged" will
now show the new commits.  If Alice has made her own changes in the
meantime, then Bob's changes will be merged in, and she will need to
manually fix any conflicts.</p>
<p>A more cautious Alice might wish to examine Bob's changes before
pulling them.  She can do this by creating a temporary branch just
for the purpose of studying Bob's changes:</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git fetch /home/bob/myrepo master:bob-incoming</tt></pre>
</div></div>
<p>which fetches the changes from Bob's master branch into a new branch
named bob-incoming.  (Unlike git pull, git fetch just fetches a copy
of Bob's line of development without doing any merging).  Then</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git whatchanged -p master..bob-incoming</tt></pre>
</div></div>
<p>shows a list of all the changes that Bob made since he branched from
Alice's master branch.</p>
<p>After examing those changes, and possibly fixing things, Alice can
pull the changes into her master branch:</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git checkout master
$ git pull . bob-incoming</tt></pre>
</div></div>
<p>The last command is a pull from the "bob-incoming" branch in Alice's
own repository.</p>
<p>Later, Bob can update his repo with Alice's latest changes using</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git pull</tt></pre>
</div></div>
<p>Note that he doesn't need to give the path to Alice's repository;
when Bob cloned Alice's repository, git stored the location of her
repository in the file .git/remotes/origin, and that location is used
as the default for pulls.</p>
<p>Bob may also notice a branch in his repository that he didn't create:</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git branch
* master
  origin</tt></pre>
</div></div>
<p>The "origin" branch, which was created automatically by "git clone",
is a pristine copy of Alice's master branch; Bob should never commit
to it.</p>
<p>If Bob later decides to work from a different host, he can still
perform clones and pulls using the ssh protocol:</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git clone alice.org:/home/alice/project myrepo</tt></pre>
</div></div>
<p>Alternatively, git has a native protocol, or can use rsync or http;
see <a href="git-pull.html">git-pull(1)</a> for details.</p>
<p>Git can also be used in a CVS-like mode, with a central repository
that various users push changes to; see <a href="git-push.html">git-push(1)</a> and
<a href="cvs-migration.html">git for CVS users</a>.</p>
</div>
<h2>Keeping track of history</h2>
<div class="sectionbody">
<p>Git history is represented as a series of interrelated commits.  The
most recent commit in the currently checked-out branch can always be
referred to as HEAD, and the "parent" of any commit can always be
referred to by appending a caret, "^", to the end of the name of the
commit.  So, for example,</p>
<div class="listingblock">
<div class="content">
<pre><tt>git diff HEAD^ HEAD</tt></pre>
</div></div>
<p>shows the difference between the most-recently checked-in state of
the tree and the previous state, and</p>
<div class="listingblock">
<div class="content">
<pre><tt>git diff HEAD^^ HEAD^</tt></pre>
</div></div>
<p>shows the difference between that previous state and the state two
commits ago.  Also, HEAD~5 can be used as a shorthand for HEAD<sup>^</sup>^^,
and more generally HEAD~n can refer to the nth previous commit.
Commits representing merges have more than one parent, and you can
specify which parent to follow in that case; see
<a href="git-rev-parse.html">git-rev-parse(1)</a>.</p>
<p>The name of a branch can also be used to refer to the most recent
commit on that branch; so you can also say things like</p>
<div class="listingblock">
<div class="content">
<pre><tt>git diff HEAD experimental</tt></pre>
</div></div>
<p>to see the difference between the most-recently committed tree in
the current branch and the most-recently committed tree in the
experimental branch.</p>
<p>But you may find it more useful to see the list of commits made in
the experimental branch but not in the current branch, and</p>
<div class="listingblock">
<div class="content">
<pre><tt>git whatchanged HEAD..experimental</tt></pre>
</div></div>
<p>will do that, just as</p>
<div class="listingblock">
<div class="content">
<pre><tt>git whatchanged experimental..HEAD</tt></pre>
</div></div>
<p>will show the list of commits made on the HEAD but not included in
experimental.</p>
<p>You can also give commits convenient names of your own: after running</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git-tag v2.5 HEAD^^</tt></pre>
</div></div>
<p>you can refer to HEAD^^ by the name "v2.5".  If you intend to share
this name with other people (for example, to identify a release
version), you should create a "tag" object, and perhaps sign it; see
<a href="git-tag.html">git-tag(1)</a> for details.</p>
<p>You can revisit the old state of a tree, and make further
modifications if you wish, using git branch: the command</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git branch stable-release v2.5</tt></pre>
</div></div>
<p>will create a new branch named "stable-release" starting from the
commit which you tagged with the name v2.5.</p>
<p>You can reset the state of any branch to an earlier commit at any
time with</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git reset --hard v2.5</tt></pre>
</div></div>
<p>This will remove all later commits from this branch and reset the
working tree to the state it had when the given commit was made.  If
this branch is the only branch containing the later commits, those
later changes will be lost.  Don't use "git reset" on a
publicly-visible branch that other developers pull from, as git will
be confused by history that disappears in this way.</p>
</div>
<h2>Next Steps</h2>
<div class="sectionbody">
<p>Some good commands to explore next:</p>
<ul>
<li>
<p>
<a href="git-diff.html">git-diff(1)</a>: This flexible command does much more than
    we've seen in the few examples above.
</p>
</li>
<li>
<p>
<a href="git-format-patch.html">git-format-patch(1)</a>, <a href="git-am.html">git-am(1)</a>: These convert
    series of git commits into emailed patches, and vice versa,
    useful for projects such as the linux kernel which rely heavily
    on emailed patches.
</p>
</li>
<li>
<p>
<a href="git-bisect.html">git-bisect(1)</a>: When there is a regression in your
    project, one way to track down the bug is by searching through
    the history to find the exact commit that's to blame.  Git bisect
    can help you perform a binary search for that commit.  It is
    smart enough to perform a close-to-optimal search even in the
    case of complex non-linear history with lots of merged branches.
</p>
</li>
</ul>
<p>Other good starting points include <a href="everyday.html">Everday GIT
with 20 Commands Or So</a> and <a href="cvs-migration.html">git for CVS
users</a>.  Also, <a href="core-tutorial.html">A short git tutorial</a> gives an
introduction to lower-level git commands for advanced users and
developers.</p>
</div>
<div id="footer">
<div id="footer-text">
Last updated 22-Jan-2006 23:54:22 PDT
</div>
</div>
</body>
</html>
